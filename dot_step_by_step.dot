digraph dot_step_by_step {
    rankdir = LR // Lay the graph out from Left to Right, instead of Top to Bottom
    size = "8,5" // define the picture size
    //label="follow me to learn dot\nlet's try to draw a finite state machine step by step\n(created by levin.lin)"
    //lable can also be HTML-like
    label=<
    <TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0" COLOR="green">
        <TR><TD>follow me to learn dot</TD></TR>
        <TR><TD>let's try to draw a finite state machine step by step</TD></TR>
        <TR><TD><I><FONT COLOR="blue">this graph itself is also generated by dot</FONT></I></TD></TR>
        <TR><TD><I><FONT COLOR="blue">author: levin.lin</FONT></I></TD></TR>
    </TABLE>
    >
    labelloc=t //For graphs and clusters, only "t" and "b" are allowed, corresponding to placement at the top and bottom
    fontname="times-bold"
    fontsize=20

    // define subgraphes
    subgraph cluster_install_graphviz { // A subgraph is recognized as a cluster when its name has the prefix "cluster"
        label="install graphviz"
        // special node just for connection between clusters
        I9 [ label = "$ brew install graphviz\n$ brew link --overwrite graphviz" fontsize=15 fontcolor=blue shape = none ]
    }
    subgraph cluster_useful_shell { // A subgraph is recognized as a cluster when its name has the prefix "cluster"
        label="useful shell script"
        U9 [ label=<<TABLE BORDER="0" CELLBORDER="0" CELLSPACING="0"><TR><TD HREF="https://github.com/LevinLin/dot_quick_guide/blob/master/dot.sh"><FONT color="blue"><B> dot.sh </B></FONT> is an useful script to reduce your work, <FONT color="red"><I>click here to get it</I></FONT></TD></TR></TABLE>> shape=none ]
    }
    subgraph cluster_define_nodes {
        label="define nodes"
        N0 [ label = "LR_0" ]
        N1 [ label = "LR_1" ]
        N2 [ label = "LR_2" ]
        N3 [ label = "LR_3" ]
        N4 [ label = "LR_4" ]
        N5 [ label = "LR_5" ]
        N6 [ label = "LR_6" ]
        N7 [ label = "LR_7" ]
        N8 [ label = "LR_8" ]
        N9 [ label=<<TABLE BORDER="0" CELLBORDER="0" CELLSPACING="0"><TR><TD HREF="https://github.com/LevinLin/dot_quick_guide/blob/master/define_nodes.dot"><FONT color="red"><I>click here to get dot file</I></FONT></TD></TR></TABLE>> shape=none ]
    }
    subgraph cluster_define_edges {
        label="define deges"
        E0 [ label = "LR_0" ]
        E1 [ label = "LR_1" ]
        E2 [ label = "LR_2" ]
        E3 [ label = "LR_3" ]
        E4 [ label = "LR_4" ]
        E5 [ label = "LR_5" ]
        E6 [ label = "LR_6" ]
        E7 [ label = "LR_7" ]
        E8 [ label = "LR_8" ]
        E9 [ label=<<TABLE BORDER="0" CELLBORDER="0" CELLSPACING="0"><TR><TD HREF="https://github.com/LevinLin/dot_quick_guide/blob/master/define_edges.dot"><FONT color="red"><I>click here to get dot file</I></FONT></TD></TR></TABLE>> shape=none ]
        E0 -> E2 [ label = "SS(B)" ]
        E0 -> E1 [ label = "SS(S)" ]
        E1 -> E3 [ label = "S($end)" ]
        E2 -> E6 [ label = "SS(b)" ]
        E2 -> E5 [ label = "SS(a)" ]
        E2 -> E4 [ label = "S(A)" ]
        E5 -> E7 [ label = "S(b)" ]
        E5 -> E5 [ label = "S(a)" ]
        E6 -> E6 [ label = "S(b)" ]
        E6 -> E5 [ label = "S(a)" ]
        E7 -> E8 [ label = "S(b)" ]
        E7 -> E5 [ label = "S(a)" ]
        E8 -> E6 [ label = "S(b)" ]
        E8 -> E5 [ label = "S(a)" ]
    }
    subgraph cluster_specify_nodes {
        label="specify nodes"
        node [ shape=doublecircle style=filled fillcolor=yellow ]
        S0 [ label = "LR_0" ]
        S3 [ label = "LR_3" ]
        S4 [ label = "LR_4" ]
        S8 [ label = "LR_8" ]
        node [ shape=circle style="" ]
        S1 [ label = "LR_1" ]
        S2 [ label = "LR_2" ]
        S5 [ label = "LR_5" ]
        S6 [ label = "LR_6" ]
        S7 [ label = "LR_7" ]
        S9 [ label=<<TABLE BORDER="0" CELLBORDER="0" CELLSPACING="0"><TR><TD HREF="https://github.com/LevinLin/dot_quick_guide/blob/master/specify_nodes.dot"><FONT color="red"><I>click here to get dot file</I></FONT></TD></TR></TABLE>> shape=none ]
        S0 -> S2 [ label = "SS(B)" ]
        S0 -> S1 [ label = "SS(S)" ]
        S1 -> S3 [ label = "S($end)" ]
        S2 -> S6 [ label = "SS(b)" ]
        S2 -> S5 [ label = "SS(a)" ]
        S2 -> S4 [ label = "S(A)" ]
        S5 -> S7 [ label = "S(b)" ]
        S5 -> S5 [ label = "S(a)" ]
        S6 -> S6 [ label = "S(b)" ]
        S6 -> S5 [ label = "S(a)" ]
        S7 -> S8 [ label = "S(b)" ]
        S7 -> S5 [ label = "S(a)" ]
        S8 -> S6 [ label = "S(b)" ]
        S8 -> S5 [ label = "S(a)" ]
    }
    subgraph cluster_specify_levels {
        label="specify levels"
        node [ shape=doublecircle style=filled fillcolor=yellow ]
        L0 [ label = "LR_0" ]
        L3 [ label = "LR_3" ]
        L4 [ label = "LR_4" ]
        L8 [ label = "LR_8" ]
        node [ shape=circle style="" ]
        L1 [ label = "LR_1" ]
        L2 [ label = "LR_2" ]
        L5 [ label = "LR_5" ]
        L6 [ label = "LR_6" ]
        L7 [ label = "LR_7" ]
        L9 [ label=<<TABLE BORDER="0" CELLBORDER="0" CELLSPACING="0"><TR><TD HREF="https://github.com/LevinLin/dot_quick_guide/blob/master/specify_levels.dot"><FONT color="red"><I>click here to get dot file</I></FONT></TD></TR></TABLE>> shape=none ]
        {rank=same L1,L2}
        {rank=same L3,L4,L5,L6}
        L0 -> L2 [ label = "SS(B)" ]
        L0 -> L1 [ label = "SS(S)" ]
        L1 -> L3 [ label = "S($end)" ]
        L2 -> L6 [ label = "SS(b)" ]
        L2 -> L5 [ label = "SS(a)" ]
        L2 -> L4 [ label = "S(A)" ]
        L5 -> L7 [ label = "S(b)" ]
        L5 -> L5 [ label = "S(a)" ]
        L6 -> L6 [ label = "S(b)" ]
        L6 -> L5 [ label = "S(a)" ]
        L7 -> L8 [ label = "S(b)" ]
        L7 -> L5 [ label = "S(a)" ]
        L8 -> L6 [ label = "S(b)" ]
        L8 -> L5 [ label = "S(a)" ]
    }
    I9 -> U9 [ penwidth=5 color=blue ] // connect clusters step by step
    U9 -> N9 [ penwidth=5 color=blue ]
    N9 -> E9 [ penwidth=5 color=blue ]
    E9 -> S9 [ penwidth=5 color=blue ]
    S9 -> L9 [ penwidth=5 color=blue ]

}
